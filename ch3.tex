\title{Chapter 3}
\date{\today}
\author{Brett Mullins}
\documentclass[12pt]{article}

\usepackage{amsmath, amsthm, amsfonts, verbatim, amssymb}

% Theorems
%-----------------------------------------------------------------
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{prob}{Problem}[section]

% Shortcuts.
% One can define new commands to shorten frequently used
% constructions. As an example, this defines the R and Z used
% for the real and integer numbers.
%-----------------------------------------------------------------
\def\RR{\mathbb{R}}
\def\ZZ{\mathbb{Z}}
\def\QQ{\mathbb{Q}}
\def\PP{\mathcal{P}}
\def\la{\lambda}
\def\contra{\rightarrow \leftarrow}
\def\empty{\varnothing}

% Similarly, one can define commands that take arguments. In this
% example we define a command for the absolute value.
% -----------------------------------------------------------------
\newcommand{\abs}[1]{\left\vert#1\right\vert}
\begin{document}
\maketitle
%
% Problem 1
%

\section{}
%
% Problem 1(a)
%
Let $X$ denote the set of prizes and $b \in X$ be the best prize and $w \in X$ be the worst prize. Let $\delta_b$ denote the lottery that results in $b$ for sure. We shall assume that $\delta_b \succ \delta_w$.
\begin{thm}
  \label{vN-M1}
  For $\alpha, \beta \in [0,1]$, $\alpha \delta_b + (1 - \alpha) \delta_w \succ \beta \delta_b + (1 - \beta) \delta_w$ if and only if $\alpha > \beta$.
\end{thm}
\begin{proof}
  Let $\alpha, \beta \in [0,1]$.
  \begin{enumerate}
    \item Case 1: Suppose $\alpha = 1$.
    \begin{enumerate}
      \item $(\rightarrow)$ Suppose $\alpha \delta_b + (1 - \alpha) \delta_w \succ \beta \delta_b + (1 - \beta) \delta_w$. Then $\delta_b \succ \beta \delta_b + (1 - \beta)\delta_w$. For contradiction, suppose $\beta = 1$. Then $\delta_b \succ \delta_b$. $(\contra)$.
      \item $(\leftarrow)$ Suppose $\alpha > \beta$. Then $\beta < 1$. We know that $\delta_b \succ \delta_w$. By the Substitution Axiom, we have that
      \begin{align*}
        &          & (1 - \beta)\delta_b + (1-(1-\beta))\delta_b &\succ (1 - \beta)\delta_w + (1-(1-\beta))\delta_b \\
        & \implies & \delta_b &\succ \beta \delta_b + (1 - \beta)\delta_w.
      \end{align*}
    \end{enumerate}
    \item Case 2: $\alpha \in (0,1)$.
    \begin{enumerate}
      \item $(\leftarrow)$ Suppose $\alpha > \beta$. Since $\delta_b \succ \delta_w$, by the Substitution Axiom, we obtain
      \begin{align*}
        &          & \alpha \delta_b + (1-\alpha)\delta_w &\succ \alpha \delta_w + (1 - \alpha)\delta_w \\
        & \implies & \alpha \delta_b + (1-\alpha)\delta_w &\succ \beta \delta_w.
      \end{align*}

      Let $\gamma = \frac{\beta}{\alpha}$ and $r = \alpha \delta_b + (1 - \alpha) \delta_w$. Then we have that $r \succ \delta_w$. Applying the Substitution Axiom once more, we obtain
      \begin{align*}
        &          & (1 - \gamma) r + \gamma r &\succ (1 - \gamma) \delta_w + \gamma r \\
        & \implies & r &\succ \delta_w - \gamma \delta_w + \gamma (\alpha \delta_b + (1 - \alpha) \delta_w) \\
        & \implies & r &\succ \delta_w - \gamma \delta_w + \gamma \alpha \delta_b + \gamma \delta_w - \gamma \alpha \delta_w \\
        & \implies & r &\succ \delta_w + \beta \delta_b - \beta \delta_w \\
        & \implies & r &\succ \beta \delta_b + (1 - \beta) \delta_w.
      \end{align*}
      \item $(\rightarrow)$ Suppose $\alpha \delta_b + (1 - \alpha)\delta_w \succ \beta \delta_b + (1 - \beta) \delta_w$. For contradiction, suppose that $\beta \geq \alpha$.
      \begin{enumerate}
        \item Suppose $\beta = \alpha$. Then $\alpha \delta_b + (1 - \alpha)\delta_w \succ \alpha \delta_b + (1 - \alpha)\delta_w$, violating asymmetry. $(\contra)$.
        \item Then $\beta > \alpha$. By the cases above, we have that $\beta \delta_b + (1 - \beta) \delta_w \succ \alpha \delta_b + (1 - \alpha)\delta_w$, also violating assymetry. $(\contra)$.
      \end{enumerate}
    \end{enumerate}
  \end{enumerate}
\end{proof}
(A special thanks to Eric Pacuit for a clear explanation of what I was missing from the above proof.)
%
% Problem 1(b)
%
\begin{thm} \label{lemma 2}
  For any lottery $p \in P$, there exists $\alpha \in [0,1]$ such that $p \sim \alpha \delta_b + (1 - \alpha) \delta_w$.
\end{thm}
\begin{proof}
  Let $p \in P$.
  \begin{enumerate}
    \item Suppose $p \sim \delta_b$. Then $\alpha = 1$ satisfies the property. Similarly, for $p \sim \delta_w$, $\alpha = 0$ is sufficient.
    \item Suppose $p \in P \backslash \{ \delta_b, \delta_w \}$. Let us define $\alpha = \inf \{ \beta \mid \beta \delta_b + (1 - \beta) \delta_w \succ p \}$. We claim that $\alpha \delta_b + (1 - \alpha)\delta_w \sim p$.
    \begin{enumerate}
      \item Suppose $r = \alpha \delta_b + (1 - \alpha)\delta_w \succ p$. Then $r \succ p \succ \delta_w$. By the Archimedean Axiom, there exist $\gamma_1, \gamma_2 \in (0,1)$ such that $\gamma_1 r + (1 - \gamma_1) \delta_w \succ p \succ \gamma_2 r + (1 - \gamma_2) \delta_w$.
      Applying the Substitution Axiom, we have that $r \succ \gamma_1 r + (1 - \gamma_1) \delta_w$. Observe that
      \begin{align*}
        \gamma_1 r + (1 - \gamma_1) \delta_w &= \gamma_1 (\alpha \delta_b + (1 - \alpha)\delta_w) + \delta_w - \gamma_1 \delta_w \\
        &= \gamma_1 \alpha \delta_b + \gamma_1 (1 - \alpha)\delta_w + \delta_w - \gamma_1 \delta_w \\
        &= \gamma_1 \alpha \delta_b + \gamma_1 \delta_w - \gamma_1 \alpha \delta_w + \delta_w - \gamma_1 \delta_w \\
        &= \gamma_1 \alpha \delta_b - \gamma_1 \alpha \delta_w + \delta_w \\
        &= \gamma_1 \alpha \delta_b (1 - \gamma_1 \alpha)\delta_w.
      \end{align*}
      By applying (\ref{vN-M1}), $\alpha > \gamma_1 \alpha$, but $\gamma_1 \alpha \in \{ \beta \mid \beta \delta_b + (1 - \beta) \delta_w \succ p \}$. $(\contra)$.
      \item Suppose $p \succ r$. Then we have that $\delta_b \succ p \succ r$. Applying the Archimedean Axiom, there exists $\gamma \in (0,1)$ such that $p \succ \gamma \delta_b + (1 - \gamma) r$. Applying the Substitution Axiom, we find that $\gamma \delta_b + (1 - \gamma) r \succ r$. Observe that
      \begin{align*}
        \gamma \delta_b + (1 - \gamma) r &= \gamma \delta_b + r - \gamma r \\
        &= \gamma \delta_b + \alpha \delta_b + (1 - \alpha) \delta_w - \gamma (\alpha \delta_b + (1 - \alpha) \delta_w) \\
        &= \gamma \delta_b + \alpha \delta_b + \delta_w - \alpha \delta_w - \gamma \alpha \delta_b - \gamma \delta_w + \gamma \alpha \delta_w \\
        &= (\gamma + \alpha - \gamma \alpha) \delta_b + (1 - \alpha - \gamma + \gamma \alpha)\delta_w. \\
      \end{align*}
      We claim that $(\gamma + \alpha - \gamma \alpha) \in [0,1]$.
      \begin{enumerate}
        \item Suppose $(\gamma + \alpha - \gamma \alpha) > 1$. Then
        \begin{align*}
          &           & (\gamma + \alpha - \gamma \alpha) &> 1 \\
          & \implies  & (\gamma - \gamma \alpha) &> 1 - \alpha \\
          & \implies  & (1 - \alpha)\gamma &> 1 - \alpha \\
          & \implies  & \gamma &> 1.
        \end{align*}
        $(\contra)$.
        \item Suppose $(\gamma + \alpha - \gamma \alpha) < 0$. Then
        \begin{align*}
          &          & (\gamma + \alpha - \gamma \alpha) &< 0 \\
          & \implies & (\gamma - \gamma \alpha) &< -\alpha \\
          & \implies & (1 - \alpha)\gamma &< -\alpha \\
          & \implies & \gamma &< -\frac{\alpha}{1 - \alpha}.
        \end{align*}
        $(\contra)$.
      \end{enumerate}
      Applying (\ref{vN-M1}), $(\gamma + \alpha - \gamma \alpha) > \alpha$. Then $(\gamma + \alpha - \gamma \alpha) \not \in \{ \beta \mid \beta \delta_b + (1 - \beta) \delta_w \succ p \}$ but $(\gamma + \alpha - \gamma \alpha) > \alpha$.
      Hence, $\alpha$ is not the greatest lower bound. $(\contra)$.
    \end{enumerate}
  \end{enumerate}
\end{proof}
%
% Problem 1(c)
%
\begin{thm}\label{lemma 3}
  If $p \sim q$, $r \in P$, and $\alpha \in [0,1]$, then $\alpha p + (1 - \alpha)r \sim \alpha q + (1 - \alpha)r$.
\end{thm}
\noindent Let us prove some preliminary results to aid in the read ability of this proof. Two of these lemmas are presented earlier in the book without proof.
\begin{lem} \label{lem1c.1}
  If $p \sim q$, $r \succ p$, $q \succ s$, for $p, q, r, s \in P$, then $r \succ q$ and $p \succ s$.
\end{lem}
\begin{proof}
  Suppose $p \sim q$, $r \succ p$, $q \succ s$, for $p, q, r, s \in P$. Then $p \not \succ q$ and $q \not \succ p$.
  \begin{enumerate}
    \item Since $r \succ p$, by negative transitivity, either $r \succ q$ or $q \succ p$. As the latter implies a contradiction, the former obtains.
    \item Since $q \succ s$, by negative transitivity, either $q \succ p$ or $p \succ s$. As the former implies a contradiction, the latter obtains.
  \end{enumerate}
\end{proof}
\begin{lem} \label{lem1c.2}
  If $p \succ q$, $r \succ s$, and $\alpha \in [0,1]$, then $\alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)s$.
\end{lem}
\begin{proof}
  Suppose that $p \succ q$, $r \succ s$. Observe that if $\alpha = 1$ or $\alpha = 0$, then the result follows immediately. So we will suppose that $\alpha \in (0,1)$. By the Substitution Axiom, $\alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)r$ and $(1 - \alpha)r + \alpha q \succ ( 1 - \alpha )s + \alpha q$.
  Since $\succ$ is transitive, $\alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)s$.
\end{proof}
\begin{lem} \label{lem1c.3}
  If $p \sim q$ and $\alpha \in [0,1]$, then $\alpha p + (1 - \alpha)q \sim p$.
\end{lem}
\begin{proof}
  Suppose $p \sim q$ and $\alpha \in [0,1]$. Let $r = \alpha p + (1 - \alpha)q$. For contradiction, suppose either $r \succ p$ or $p \succ r$.
  \begin{enumerate}
    \item Suppose $r \succ p$. By (\ref{lem1c.1}), $r \succ q$. By (\ref{lem1c.2}),
    \begin{align*}
      &           & \alpha r + (1 - \alpha)r &\succ \alpha p + (1 - \alpha)q \\
      & \implies   & r &\succ r
    \end{align*}
    $(\contra)$.
    \item Suppose $p \succ r$. By (\ref{lem1c.1}), $q \succ r$. By (\ref{lem1c.2}),
    \begin{align*}
      &           & \alpha p + (1 - \alpha)q  &\succ \alpha r + (1 - \alpha)r \\
      & \implies   & r &\succ r
    \end{align*}
    $(\contra)$.
  \end{enumerate}
\end{proof}
\begin{proof}
  Suppose $p \sim q$, $r \in P$, and $\alpha \in [0,1]$. Observe that if $\alpha = 1$ or $\alpha = 0$, then the result follows immediately.
  We will suppose that $\alpha \in (0,1)$.
  \begin{enumerate}
    \item Suppose $p \sim r$. Then by (\ref{lem1c.3}) $\alpha p + (1 - \alpha)r \sim p$ and $\alpha p + (1 - \alpha)r \sim q$. Since $\sim$ is transitive, $\alpha p + (1- \alpha)r \sim \alpha q + (1 - \alpha)r$.
    \item Suppose $p \succ r$.
    \begin{enumerate}
      \item For contradiction, suppose $\alpha q + (1 - \alpha)r \succ \alpha p + (1 - \alpha)r$. By the Substitution Axiom, we have that $\alpha p + (1 - \alpha)r \succ r$.
      By (\ref{lem1c.2}), there exists $\beta \in [0,1]$ such that
      \begin{align*}
        &           & \alpha p + (1 - \alpha)r &\sim (1 - \beta)r + \beta[\alpha q + (1 - \alpha)r] \\
        & \implies  & \alpha p + (1 - \alpha)r &\sim \alpha \beta q + (1 - \alpha \beta)r.
      \end{align*}
      By (\ref{lem1c.1}), we have that $q \succ r$. Then, by the Substitution Axiom, $q \succ \beta q + (1 - \beta)r$. Then by (\ref{lem1c.1}), $p \succ \beta q + (1 - \beta)r$. By the Substitution Axiom,
      \begin{align*}
        &           & \alpha p + (1 - \alpha)r &\succ \alpha[\beta q + (1 - \beta)r] + (1 - \alpha)r \\
        & \implies  & \alpha p + (1 - \alpha)r &\succ \alpha \beta q + (1 - \alpha \beta)r.
      \end{align*}
      $(\contra)$
      \item For the case in which $\alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)r$, switch the roles of $p, q$ and the argument follows.
      \end{enumerate}
    \item The case for $r \succ p$ follows similarly.
  \end{enumerate}
\end{proof}
%
% Problem 1(d)
%
\begin{thm}
  Let $u(x) \in [0,1]$ be defined as $\delta_x \sim u(x)\delta_b + (1 - u(x))\delta_w$. For $u:X \rightarrow \RR$, for $p \in P$, $$p \sim \sum_{x \in supp(p)} u(x)p(x) \delta_b + \left( 1 - \sum_{x \in supp(p)}u(x)p(x) \right) \delta_w.$$
\end{thm}
\begin{proof}
  Let $n$ denote $\abs{supp(p)}$, the cardinality of $supp(p)$. We proceed by induction on $n$. \\
  \textbf{Base Case}: Suppose $n = 1$. Then $supp(p) = \{ x_1, \}, x_1 \in X$. Then $p(x_1) = 1$. We know that $u(x)$ is defined so that $\delta_{x_1} \sim u(x_1)\delta_b + (1 - u(x_1))\delta_w$. Observe that
  \begin{align*}
    p &\sim \delta_{x_1} \\
    &= \delta_{x_1}p(x_1) \\
    &\sim (u(x_1)\delta_b + (1 - u(x_1))\delta_w)p(x_1), \text{ by (\ref{lemma 3}),}  \\
    &\sim u(x_1)p(x_1)\delta_b + (p(x_1) - u(x_1)p(x_1))\delta_w \\
    &\sim u(x_1)p(x_1)\delta_b + (1 - u(x_1)p(x_1))\delta_w,
  \end{align*}
  \textbf{Inductive Step}: Suppose that the claim holds for $n \leq k - 1$, and, for $p \in P$, $n = k$. Then $supp(p) = \{x_1, \ldots x_{k} \}$. So $\sum_{i = 1}^{k}p(x_i) = 1$ and $\sum_{i = 1}^{k-1}p(x_1) = 1 - p(x_k)$. Observe
  \begin{align*}
    p &\sim p(x_1)\delta_{x_1} + \cdots + p(x_{k-1})\delta_{x_{k-1}} + p(x_k)\delta_{d_k} \\
    &= (1 - p(x_k)) \left( \frac{p(x_1)}{1 - p(x_k)}\delta_{x_1} + \cdots + \frac{p(x_{k-1})}{1 - p(x_k)}\delta_{x_{k-1}} \right) + p(x_k)\delta_{x_k} \\
    &= (1 - p(x_k) \sum_{i = 1}^{k - 1} \frac{p(x_i)}{1 - p(x_k)}\delta_{x_i} + p(x_k)\delta_{x_k}.
  \end{align*}
  Let $q = \sum_{i = 1}^{k - 1} \frac{p(x_i)}{1 - p(x_k)}\delta_{x_i}$, where $q(x_i) = \frac{p(x_i)}{1 - p(x_k)}$. Then we have that $q \in P$ and $p \sim (1 - p(x_k))q + p(x_k)\delta_{d_k}$.
  By the inductive hypothesis, since $\abs{supp(q) = k-1}$, $q \sim \sum_{i = 1}^{k - 1}u(x_i)q(x_i)\delta_b + (1 - \sum_{i = 1}^{k - 1}u(x_i)q(x_i))\delta_w$. Then by (\ref{lemma 2}), $\delta_{x_k} \sim u(x_k)\delta_b + (1 - u(x_k))\delta_w$.
  Observe that
  \begin{align*}
    (1 - p(x_k))q + p(x_k)\delta_{x_k} &\sim (1 - p(x_k))\left(\sum_{i = 1}^{k - 1}u(x_i)q(x_i)\delta_b + \left(1 - \sum_{i = 1}^{k - 1}u(x_i)q(x_i)\right)\delta_w\right)  \\ &+ \ p(x_k)\delta_{x_k}, \text{ by (\ref{lemma 3}),} \\
    &\sim \left(\sum_{i = 1}^{k - 1}u(x_i)p(x_i)\delta_b + \left(1 - p(x_k) - \sum_{i = 1}^{k - 1}u(x_i)p(x_i)\right)\delta_w\right) +  p(x_k)\delta_{x_k} \\
    &\sim \left(\sum_{i = 1}^{k - 1}u(x_i)p(x_i)\delta_b + \left(1 - p(x_k) - \sum_{i = 1}^{k - 1}u(x_i)p(x_i)\right)\delta_w\right) \\ &+  p(x_k)(u(x_k)\delta_b + (1 - u(x_k))\delta_w), \text{ by (\ref{lemma 3}),} \\
    &\sim \sum_{i = 1}^{k - 1}u(x_i)p(x_i)\delta_b + p(x_k)u(x_k)\delta_b + \delta_w - \sum_{i = 1}^{k - 1}u(x_i)p(x_i)\delta_w - u(x_k)p(x_k)\delta_w \\
    &\sim \sum_{i = 1}^{k}u(x_i)p(x_i)\delta_b + \delta_w - \sum_{i = 1}^{k}u(x_i)p(x_i)\delta_w\\
    &\sim \sum_{i = 1}^{k}u(x_i)p(x_i)\delta_b + (1 - \sum_{i = 1}^{k}u(x_i)p(x_i))\delta_w.
  \end{align*}
\end{proof}
%
% Problem 1(e)
%
\begin{thm}
  The previous theorem holds even if there are no best and worst prizes.
\end{thm}
\begin{proof}
  Suppose there are two elements of $P$ that exhibit strict preference; otherwise, the result follows trivially. Let us denote these elements $b, w$. It is sufficient to provide a $u(\cdot)$ with the desired properties. Since $b \succ w$, let define $u(b) = 1$ and $u(w) = 0$. So for $x \in X$, either $\delta_x \succ \delta_b$, $\delta_b \succeq \delta_x \succeq \delta_w$, or $\delta_w \succ \delta_x$.
  \begin{enumerate}
    \item Suppose $\delta_x \succ \delta_b$. Since $\delta_x \succ \delta_b \succ \delta_w$, by (\ref{lemma 2}), $\delta_b \sim \alpha \delta_x + (1 - \alpha)\delta_w, \alpha \in (0,1)$. Let us propose that $u(x) = \frac{1}{\alpha}$. By (\ref{lemma 3}),
    \begin{align*}
      \frac{1}{\alpha}\delta_b + \left(1 - \frac{1}{\alpha}\right)\delta_w &\sim \frac{1}{\alpha}\alpha \delta_x + (1 - \alpha)\delta_w)\ + \left(1 - \frac{1}{\alpha}\right)\delta_w \\
      &= \delta_x + \frac{1}{\alpha}\delta_w - \delta_w + \delta_w - \frac{1}{\alpha}\delta_w \\
      &= \delta_x.
    \end{align*}
    \item Suppose $\delta_b \succeq \delta_x \succeq \delta_w$. By (\ref{lem1c.3}) and (\ref{lemma 2}) there exists a unique $\alpha \in [0,1]$ such that $\delta_x \sim \alpha \delta_b + (1 - \alpha)\delta_w$. Then $u(x) = \alpha$ is sufficient.
    \item Suppose $\delta_w \succ \delta_x$. Since $\delta_b \succ \delta_w \succ \delta_x$, by (\ref{lemma 2}), $\delta_w \sim \alpha \delta_b + (1 - \alpha)\delta_w$. Let us propose that $u(x) = \frac{-\alpha}{1 - \alpha}$. By (\ref{lemma 3}),
    \begin{align*}
      \left( 1 - \frac{-\alpha}{1 - \alpha}\right) \delta_w + \frac{-\alpha}{1 - \alpha}\delta_b &\sim \left( 1 - \frac{-\alpha}{1 - \alpha}\right) (\alpha \delta_b + (1 - \alpha)\delta_x) + \frac{-\alpha}{1 - \alpha}\delta_b \\
      &= (\alpha \delta_b + (1 - \alpha)\delta_x) + (\alpha \delta_b + (1 - \alpha)\delta_x)\frac{\alpha}{1 - \alpha} - \frac{\alpha}{1 - \alpha}\delta_b \\
      &= \alpha \delta_b + (1 - \alpha)\delta_x + \frac{\alpha^2}{1 - \alpha}\delta_b + \alpha\delta_x - \frac{\alpha}{1 - \alpha}\delta_b \\
      &= \frac{\alpha - \alpha^2}{1 - \alpha} \delta_b + \delta_x - \alpha\delta_x + \frac{\alpha^2}{1 - \alpha}\delta_b + \alpha\delta_x - \frac{\alpha}{1 - \alpha}\delta_b \\
      &= \delta_x.
    \end{align*}
  \end{enumerate}
\end{proof}
%
% Problem 1(f)
%
\begin{thm}
  If $u(\cdot)$ is an expected utility representation for $\succ$ on $X$ then $u(\cdot)$ is unique up to a positive linear transformation.
\end{thm}
\begin{proof}
  Suppose $u,v: X \rightarrow \RR$ both give expected utility representations for $\succ$ on $X$. For contradiction, suppose $v(\cdot) \not = au(\cdot) + b, a \in \RR^+, b \in \RR$. Suppose $x, y, z \in X$ such that $\delta_x \succ \delta_y \succ \delta_z$; otherwise, the result is trivial. Then $u(x) > u(y) > u(z)$ and $v(x) > v(y) > v(z)$.
  Then there exists a unique $\alpha \in (0,1)$ such that $u(y) = \alpha u(x) + (1 - \alpha)u(z)$. This implies $\delta_y \sim \alpha \delta_x + (1 - \alpha)\delta_z$. Since $v(\cdot)$ is a expected utility representation of $\succ$, $v(y) = \alpha v(x) + (1 - \alpha)v(z)$. Solving for $\alpha$, we find that $\frac{u(y) - u(z)}{u(x) - u(z)} = \alpha = \frac{v(y) - v(z)}{v(x) - v(z)}$.
  Observe that
  \begin{align*}
    &          & \frac{u(y) - u(z)}{u(x) - u(z)} &= \frac{v(y) - v(z)}{v(x) - v(z)} \\
    & \implies & (v(x) - v(z))(u(y) - u(z)) &= (u(x) - u(z))(v(y) - v(z)) \\
    & \implies & u(y)v(x) - u(y)v(z) - u(z)v(x) + u(z)v(z) &= u(x)v(y) - u(z)v(y) - u(x)v(z) + u(z)v(z) \\
    & \implies & u(y)v(x) - u(y)v(z) - u(z)v(x) &= u(x)v(y) - u(z)v(y) - u(x)v(z) \\
    & \implies & u(y)(v(x) - v(z)) - u(z)v(x) + u(x)v(z) &= (u(x) - u(z))v(y) \\
    & \implies & u(y)\left(\frac{v(x) - v(z)}{u(x) - u(z)}\right) - \frac{u(z)v(x) + u(x)v(z)}{u(x) - u(z)} &= v(y) \\
  \end{align*}
  Since $v(x) - v(z) > 0$ and $u(x) - u(z) > 0$, we have that $\frac{v(x) - v(z)}{u(x) - u(z)}$. $(\contra)$.
\end{proof}
%
% Problem 2
%
\section{}
\begin{thm}
  Suppose $p' \sim \frac{2}{3}\delta_{\$ 10}$ + $\frac{1}{3}\delta_{\$ 20}$ and $p \sim \frac{1}{3}\delta_{\$ 5} + \frac{5}{9}\delta_{\$ 15} + \frac{1}{9}\delta_{\$ 30}$.
  Then a risk averse expected utility maximizer will have $p' \succeq p$.
\end{thm}
Let us first prove a helpful lemma that generalizes (\ref{lem1c.2}).
\begin{lem}\label{lem 2.1}
  If $p \succeq q, r \succeq s, \alpha \in [0,1]$, then $\alpha p + (1 - \alpha)r \succeq \alpha q + (1 - \alpha)s$.
\end{lem}
\begin{proof}
  Observe if $\alpha = 1$ or $\alpha = 0$ then the result is trivial. Suppose $\alpha \in (0,1)$.
  \begin{enumerate}
    \item Suppose $p \succ q$. By the Substitution Axiom, $\alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)r$.
    \begin{enumerate}
      \item Suppose $r \succ s$. By the Substitution Axiom, $(1 - \alpha)r + \alpha q \succ (1 - \alpha)s + \alpha q$. Since $\succ$ is transitive, we have that $\alpha p + (1 - \alpha)r \succ (1 - \alpha)s + \alpha q$, implying $\alpha p + (1 - \alpha)r \succeq (1 - \alpha)s + \alpha q$.
      \item Suppose $r \sim s$. By (\ref{lemma 3}), $(1 - \alpha)r + \alpha q \sim (1 - \alpha)s + \alpha q$. By (\ref{lem1c.1}), $\alpha p + (1 - \alpha)r \succ (1 - \alpha)s + \alpha q$, implying $\alpha p + (1 - \alpha)r \succeq (1 - \alpha)s + \alpha q$.
    \end{enumerate}
    \item Suppose $p \sim q$. By (\ref{lemma 3}), $\alpha p + (1 - \alpha)r \sim \alpha q + (1 - \alpha)r$.
    \begin{enumerate}
      \item Suppose $r \succ s$. By the Substitution Axiom, $(1 - \alpha)r + \alpha q \succ (1 - \alpha)s + \alpha q$. By (\ref{lem1c.1}), $\alpha p + (1 - \alpha)r \succ (1 - \alpha)s + \alpha q$, implying $\alpha p + (1 - \alpha)r \succeq (1 - \alpha)s + \alpha q$.
      \item Suppose $r \sim s$. By (\ref{lemma 3}), $(1 - \alpha)r + \alpha q \sim (1 - \alpha)r + \alpha q$. Since $\sim$ is transitive, $\alpha p + (1 - \alpha)r \succ (1 - \alpha)s + \alpha q$, implying $\alpha p + (1 - \alpha)r \succeq (1 - \alpha)s + \alpha q$.
    \end{enumerate}
  \end{enumerate}
\end{proof}
\begin{proof}
  Since the agent is risk averse, the agent's utility function over dollar values has the following property: for $p \in P, \delta_{E[p]} \succeq p$. Let us define $q = \frac{1}{2}\delta_{\$ 5} + \frac{1}{2}\delta_{\$ 15}$ and $r = \frac{2}{3}\delta_{\$ 15} + \frac{1}{3}\delta_{\$ 30}$.
  Observe that $E[q] = \$ 10, E[r] = \$ 20$. Then $\delta_{E[q]} \succeq q$ and $\delta_{E[r]} \succeq r$, since the agent is risk averse. This implies that $\delta_{\$ 10} \succeq q$ and $\delta_{\$ 20} \succeq r$.
  By (\ref{lem 2.1}), $\frac{2}{3}\delta_{\$ 10} + \frac{1}{3}\delta_{\$ 20} \succeq \frac{2}{3}q + \frac{1}{3}r$.
  Observe that
  \begin{align*}
    p' &\sim \frac{2}{3}\delta_{\$ 10} + \frac{1}{3}\delta_{\$ 20} \\
    &\succeq \frac{2}{3}q + \frac{1}{3}r \\
    &= \frac{2}{3}(\frac{1}{2}\delta_{\$ 5} + \frac{1}{2}\delta_{\$ 15}) + \frac{1}{3}(\frac{2}{3}\delta_{\$ 15} + \frac{1}{3}\delta_{\$ 30}) \\
    &= \frac{1}{3}\delta_{\$ 5} + \frac{5}{9}\delta_{\$ 15} + \frac{1}{9}\delta_{\$ 30} \\
    &\sim p.
  \end{align*}
  By transitivity of $\succeq$, $p' \succeq p$.
\end{proof}
%
% Problem 3(a)
%
\section{}
\begin{prob}
Suppose an agent in a two good world has the ordinal utility function $u(x_1, x_2) = x_1 + x_2$ and income $Y > 0$. Let the agent's von Neumann-Morgenstern utility function be given by $f(u(x))$, where $f$ is a strictly increasing function. Suppose prices are not fixed and $p = (3,1), p' = (1,3)$ are two price vectors that occur with probability $\frac{1}{2}$. Show that this agent prefers risky prices to centain prices.
\end{prob}
\begin{proof}[Solution]
  Let $Y$ be fixed. For each price vector $p$, let us construct the optimal given income, i.e., construct the indirect utility function $\nu(p, Y)$. Define $i$ as the index of the value satisfying $\min \{ p_1, p_2 \}$.
  Then the optimal bundle at prices $p$ contains only $\frac{Y}{p_i}$ of good $x_i$. So $\nu(p, Y) = \frac{Y}{p_i}$. Likewise, at prices $p'$ the optimal bundle given by $\nu(p', Y) = \frac{Y}{p'_i}$. The intuition is that the agent is buying only the cheaper good and as much as the agent can afford. Let $\rho(p)$ denote the probability that prices $p$ obtain. The expected utility at risky prices is given by
  \begin{align}
    \nu(p, Y)\rho(p) + \nu(p', Y)\rho(p') &= \frac{Y}{p_i}\frac{1}{2} + \frac{Y}{p'_i}\frac{1}{2} \\
    &= \frac{Y}{2} + \frac{Y}{2} \\
    &= Y.
  \end{align}
  On the other hand, let $q = \frac{1}{2}p + \frac{1}{2}p' = (2,2)$. The $\nu(q, Y) = \frac{Y}{q_1} = \frac{Y}{q_2}$, since the price is the same for each good. So the expected utility is given by $\frac{Y}{2}$. Since $f$ is strictly increaseing, $f(Y) > f(\frac{Y}{2})$. Hence, risky prices are preferred to certain prices in this case.
\end{proof}
%
% Problem 3(b)
%
\begin{prob}
  Coming soon!
\end{prob}
%
% Problem 4
%
\section{}
\begin{prob}
  Suppose an agent has a concave utility function for net income that is not necessairly differentiable. What changes does this cause for the analysis of insurance demand?
\end{prob}
\begin{proof}[Solution]
  This is a vague question where the obvious answers are more mathematically sophisticated than the general level of the text. Recall that a concave function may have countably many points of nondifferentiability. As a result, the derivative may not be everywhere defined. Thus, the methods in the text cannot be applied straightforwardly and we must move on to generalizations of the derivative or non-derivative methods to proceed. This seems to be a reasonable answer though it's possible that I have missed the point of the exercise.
\end{proof}
%
% Problem 5
%
\section{}
Coming soon!
%
% Problem 6
%
\section{}
Suppose an agent has $\$ W$ to invest between a sure thing and a risky asset. The sure thing has a return of $\$ r > 1$. The risky asset returns a random ammount $\theta$, where $\theta$ is a simple lottery on $(0, \infty)$ with distribution $\pi$. Suppose $E \theta > r$ but $\pi (\theta < r) > 0$. Suppose the agent has the ability to short sell, i.e., the agent's utility function is defined for negative income.
The agent has a constant coefficient of absolute risk aversion $\lambda > 0$, i.e., the agent allocates his funds to maximize the expectation of $-e^{- \lambda Y}$ where $Y$ is the net payoff from the constructed portfolio. We write $\alpha(W, \lambda)$ for the optimal amount to invest in the risk asset.
\begin{thm}
  For all $W, \lambda$, $\alpha(W, \lambda) < \infty$.
\end{thm}
\begin{proof}
  Suppose for $W, \lambda$, $\alpha(W, \lambda)$ is infinite, i.e., $\arg \max_\alpha E \left[-e^{- \lambda Y} \right]$ has no solution. Observe that
  \begin{align*}
    E \left[-e^{- \lambda Y} \right] &= E \left[-e^{- \lambda ((W - \alpha)r + \alpha \theta)} \right] \\
    &= E \left[-e^{- \lambda (Wr + \alpha (\theta - r))} \right] \\
    &= \sum_{x \in supp(\pi)} -e^{- \lambda (Wr + \alpha (x - r))} \pi(x).
  \end{align*}
  Since the maximum is not defined with $\alpha \rightarrow \infty$, consider $\lim_{\alpha \rightarrow \infty} \sum_{x \in supp(\pi)} -e^{- \lambda (Wr + \alpha (x - r))}$. By assumption, there exists $x^* \in supp(\pi)$ such that $x^* < r$.
  For this term in the summation, $\lim_{\alpha \rightarrow \infty} -e^{- \lambda(Wr + \alpha(x - r))} = \lim_{\alpha \rightarrow \infty} -e^{\alpha} = - \infty$.
  Then this expected value equals $- \infty$, if it is defined. But $\alpha = 0$ yields
  \begin{align*}
    \sum_{x \in supp(\pi)} -e^{- \lambda (Wr + \alpha (x - r))} \pi(x) &= \sum_{x \in supp(\pi)} -e^{- \lambda Wr } \pi(x) \\
    &= \sum_{x \in supp(\pi)} -e^{- \lambda Wr } \pi(x) \\
    &= -e^{- \lambda Wr } \\
    &> - \infty.
  \end{align*}
  So the supposed $\alpha$ does not maximize the expected value. $(\contra)$.
\end{proof}
\begin{thm}
  $\alpha(W, \lambda)$ is independent of $W$.
\end{thm}
\begin{proof}
  Let $\lambda > 0$ be given and $W = \beta Z, \beta \in \RR^+$. Let $\gamma_W = \alpha(W, \lambda)$ and $\gamma_Z = \alpha(Z, \lambda)$. Define the functions $f(\alpha) = E \left[-e^{- \lambda ((W - \alpha)r + \alpha \theta)} \right]$ and $g(\alpha) = E \left[-e^{- \lambda ((Z - \alpha)r + \alpha \theta)} \right]$.
  Then $f(\gamma_W) \geq f(\alpha), \alpha \in [0, \infty )$ and $g(\gamma_Z) \geq g(\alpha), \alpha \in [0, \infty )$.
  Let $\eta = e^{\lambda (\beta - 1)Zr}$. Then $\eta > 0$. Observe that
  \begin{align*}
    &       & g(\gamma_Z) &\geq g(\alpha) \\
    & \iff  & g(\gamma_Z)\eta &\geq g(\alpha)\eta \\
    & \iff  & \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \gamma_Z (x - r))} \pi(x) \eta &\geq \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \alpha (x - r))} \pi(x) \eta \\
    & \iff  & \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \gamma_Z (x - r))}  \pi(x) e^{\lambda (\beta - 1)Zr} &\geq \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \alpha (x - r))} \pi(x) e^{\lambda (\beta - 1)Zr} \\
    & \iff  & \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \gamma_Z (x - r)) + \lambda (\beta - 1)Zr}  \pi(x) &\geq \sum_{x \in supp(\pi)} -e^{- \lambda (Zr + \alpha (x - r)) + \lambda (\beta - 1)Zr} \pi(x) \\
    & \iff  & \sum_{x \in supp(\pi)} -e^{- \lambda (\beta Zr + \gamma_Z (x - r))}  \pi(x) &\geq \sum_{x \in supp(\pi)} -e^{- \lambda (\beta Zr + \alpha (x - r))} \pi(x) \\
    & \iff  & \sum_{x \in supp(\pi)} -e^{- \lambda (Wr + \gamma_Z (x - r))}  \pi(x) &\geq \sum_{x \in supp(\pi)} -e^{- \lambda (Wr + \alpha (x - r))} \pi(x) \\
    & \iff  & f(\gamma_Z) &\geq f(\alpha).
  \end{align*}
  Then $\gamma_Z$ maximizes $f$.
\end{proof}
\begin{thm}
  $\alpha(W, \lambda)$ is nonincreasing in $\lambda$.
\end{thm}
\begin{proof}
Coming soon!
\end{proof}
%
% Problem 7
%
\section{}
\begin{thm}
  Consider the consumer's problem with one risky asset. If the consumer's vNM utility function is strictly concave then the consumer's problem has a unique solution, if it has a solution.
\end{thm}
\begin{proof}
  The consumer's problem with one risky asset is $$\mathcal{P} = \max_\alpha \sum_{\theta \in supp(\pi)} \nu(\alpha(\theta - r) + rW)\pi(\theta)$$.
  Suppose $\alpha_1, \alpha_2$ are both solutions to $\mathcal{P}$. Let $\gamma \in (0,1)$. Then for $\theta \in supp(\pi)$,
  \begin{align*}
    \nu((\gamma \alpha_1 + (1 - \gamma)\alpha_2)(\theta - r) + rW) &= \nu(\gamma \alpha_1(\theta - r) + \gamma rW + (1 - \gamma)\alpha_2(\theta - r) + (1 - \gamma)rW) \\
    &= \nu(\gamma(\alpha_1(\theta - r) + rW) + (1 - \gamma)(\alpha_2(\theta - r) + rW)) \\
    &> \gamma \nu(\alpha_1(\theta - r) + rw) + (1 - \gamma)\nu(\alpha_2(\theta - r) + rW).
  \end{align*}
  The strict inequality in the third line follows from strict concavity of $\nu$. Observe that
  \begin{align*}
    & \sum_{\theta \in supp(\pi)} \nu((\gamma \alpha_1 + (1 - \gamma)\alpha_2)(\theta - r) + rW)\pi(\theta) \\
    &> \sum_{\theta \in supp(\pi)} (\gamma \nu(\alpha_1(\theta - r) + rw) + (1 - \gamma)\nu(\alpha_2(\theta - r) + rW)) \pi(\theta) \\
    &= \sum_{\theta \in supp(\pi)} \gamma \nu(\alpha_1(\theta - r) + rw)\pi(\theta) + \sum_{\theta \in supp(\pi)} (1 - \gamma)\nu(\alpha_2(\theta - r) + rW)\pi(\theta) \\
    &= \gamma \sum_{\theta \in supp(\pi)} \nu(\alpha_1(\theta - r) + rw)\pi(\theta) + (1 - \gamma)\sum_{\theta \in supp(\pi)} \nu(\alpha_2(\theta - r) + rW)\pi(\theta) \\
    &= \gamma \sum_{\theta \in supp(\pi)} \nu(\alpha_1(\theta - r) + rw)\pi(\theta) + (1 - \gamma)\sum_{\theta \in supp(\pi)} \nu(\alpha_1(\theta - r) + rW)\pi(\theta) \\
    &= \sum_{\theta \in supp(\pi)} \nu(\alpha_1(\theta - r) + rw)\pi(\theta).
  \end{align*}
  Observe that the equality in the fourth line follows since $\alpha_1, \alpha_2$ are both solutions to $\mathcal{P}$. $(\contra)$.
\end{proof}
%
% Problem 8
%
\section{}
\begin{thm}
  It is possible for an asset to have an expected return less than $r$ and stil be demanded and an expected return greater than $r$ and not be demanded, in the context of multiple assets.
\end{thm}
\begin{proof}
  \begin{enumerate}
    \item Set $r = 2$. Suppose $(\theta_1, \theta_2) = (1, 5)$ with probability $\frac{1}{10}$ and $(\theta_1, \theta_2) = (5, 1)$ with probability $\frac{9}{10}$.
    Then the expected return of $\theta_1$ is $1 \left( \frac{1}{10}\right) + 5 \left( \frac{9}{10}\right) = \frac{46}{10} = 4.6$
    and the expecte return of $\theta_2$ is $5 \left( \frac{1}{10}\right) + 1 \left( \frac{9}{10}\right) = \frac{14}{10} = 1.4 < r$. Observe that
    \begin{align*}
      & \nu(1(5-2) + 1(1-2) + 2W) + \nu(1(1-2) + 1(5-2) + 2W) \\
      &= \nu(2 + 2W) + \nu(2 + 2W) \\
      &> \nu(2W) + \nu(2W) \\
      &= \nu(0(3) + 0(-1) + 2W) + \nu(0(-1) + 0(3) + 2W).
    \end{align*}
    Hence, $\theta_2$ is demanded some.
    \item Suppose $\theta_1 > \theta_2$, that $\theta_2$ is demanded at $\alpha_2 > 0$, and the expected return of $\theta_2$ is greater than $r$. Observe that
    \begin{align*}
      \nu(\alpha_1 (\theta_1 - r) + \alpha_2 (\theta_2 - r) + rW) &= \nu(\alpha_1 \theta_1 + \alpha_2 \theta_2 + r(W - (\alpha_1 + \alpha_2))) \\
      &< \nu(\alpha_1 \theta_1 + \alpha_2 \theta_1 + r(W - (\alpha_1 + \alpha_2))) \\
      &= \nu((\alpha_1 + \alpha_2) \theta_1 + r(W - (\alpha_1 + \alpha_2))) \\
    \end{align*}
    Any allocation to $\theta_2$ is better allocated to $\theta_1$. So $\theta_2$ has a return greater than the risk free rate but none the less not demanded.
  \end{enumerate}
\end{proof}
%
% Problem 9
%
\section{}
\begin{thm}
  If the returns for two risky assets are statistically independent, then the results obtained in Chapter 3.3 generalize.
\end{thm}
\begin{proof}[Solution]
  This is not difficult just tedious. Observe that since the two assets are statistically independent, then $\pi(\theta) = \pi(\theta_1, \theta_2) = \pi_1(\theta_1)\pi_2(\theta_2)$, where $\pi_1$ is the marginal distribution of $\pi$ with respect to $\theta_1$ and similarly for $\pi_2$.
  Then define $\theta_m = \min \{ \theta_1, \theta_2 \}$. We may then show the results for this reduced single risky asset.
\end{proof}
%
% Problem 10
%
\section{}
\begin{thm}
  If we have an \emph{additive across states representation} then for any strictly positive probability distribution $\pi$ on $S$, there is a state-dependent utility function $u: X \times S \rightarrow \RR$ such that subjective state-dependent expectied utility, using this probability distribution $\pi$ and utility function $u$ represents $\succ$.
\end{thm}
\begin{proof}
  Suppose $h \succ h'$. Then $\sum_{s \in S}u'(h(s),s)\pi'(s) > \sum_{s \in S}u'(h'(s),s)\pi'(s)$. Let $\pi$ be a probability distribution on $S$. Define $u(x, s) = \frac{u'(x, s)\pi'(s)}{\pi(s)}$. Observe that
  \begin{align*}
    \sum_{s \in S} u(h(s), s) \pi(s) &= \sum_{s \in S} u'(h(s), s)\pi'(s) \\
    &> \sum_{s \in S} u'(h'(s), s)\pi'(s) \\
    &= \sum_{s \in S} u(h'(s), s) \pi(s).
  \end{align*}
\end{proof}
%
% Problem 11
%
\section{}
Suppose we analyze a consumer whose utility function is given by $u(c,n) = \ln(c) + \ln(n)$, where $c$ is today's consumption and $n$ is tomorrow's consumption. We suppose the initial wealth to spend is $\$ 100$.
\begin{prob}
  Suppose the consumer is sure to receive $\$ 34$ tomorrow. What is their optimal level of consumption and expected utility?
\end{prob}
\begin{proof}[Solution]
  We are going to solve the following non-linear program:
  \begin{align*}
    \max &\ln(c) + \ln(n + 34) &\\
    Subject \ to \ &c + n \leq 100 & \\
    & c, n \geq 0. &
  \end{align*}
  First, let's compute the Lagrangian:
  $$\ln(c) + \ln(n + 34) - \lambda_1(c + n - 100) + \lambda_2c + \lambda_3n.$$
  Next, we obtain our constraints:
  \begin{align*}
    &\frac{1}{c} - \lambda_1 + \lambda_2 = 0\\
    &\frac{1}{n + 34} - \lambda_1 + \lambda_3 = 0 \\
    &\lambda_1(c + n - 100) = 0 \\
    &\lambda_2c = 0 \\
    &\lambda_3n = 0.
  \end{align*}
  We know that $\lambda_2 = 0$; otherwise, the first constraint is not defined. Then we have that $\lambda_1 = \frac{1}{c}$.
  \begin{enumerate}
    \item Suppose $\lambda_1 = 0$. Then $c$ is unbounded; hence, there is no solution.
    \item Then $\lambda_1 \neq 0$. Hence, $c + n = 100$.
    \begin{enumerate}
      \item Suppose $\lambda_3 = 0$. Then $\lambda_1 = \frac{1}{n + 34}$. So $\frac{1}{c} = \frac{1}{n + 34}$ just in case $c = n + 34$. Then
      \begin{align*}
        n + 34 + n &= 100 \\
        2n &= 66 \\
        n = 33.
      \end{align*}
      Then $c = 67$. So $(67, 33)$ is a candidate point.
      \begin{itemize}
        \item Suppose $\lambda_3 \neq 0$. Then $n = 0$. So $c = 100$. Then $(100, 0)$ is a candidate point.
      \end{itemize}
    \end{enumerate}
  \end{enumerate}
  Now, observe
  \begin{align*}
    \ln(67) + \ln(33 + 34) &= 2\ln(67) \\
    &= \ln(67^2) \\
    &> \ln(3400) \\
    &= \ln(100) + \ln(34).
  \end{align*}
  So $(67, 33)$ is the optimal point and yields an expected utility of $\ln(4489) \approx 8.409$.
\end{proof}
\begin{prob}
  Suppose that tomorrow's income is a lottery between $\$ 100 $ and $\$ 0$, each with probability one half.
\end{prob}
\begin{proof}[Solution]
  Let us start by noting that there are easier and more difficult ways to deal with this non-linear program. The approach that I follow is a bit tedious, so obvious steps will be skipped for brevity. This applies to the next problem as well. \\
  We are going to solve the following non-linear program:
  \begin{align*}
    \max &\ln(c) + \frac{1}{2}\ln(n) + \frac{1}{2}\ln(n + 100) &\\
    Subject \ to \ &c + n \leq 100 & \\
    & c, n \geq 0. &
  \end{align*}
  First, let's compute the Lagrangian:
  $$\ln(c) + \frac{1}{2}\ln(n) + \frac{1}{2}\ln(n + 100) - \lambda_1(c + n - 100) + \lambda_2c + \lambda_3n.$$
  Next, we obtain our constraints:
  \begin{align*}
    &\frac{1}{c} - \lambda_1 + \lambda_2 = 0\\
    &\frac{1}{2n} + \frac{1}{2n + 100} - \lambda_1 + \lambda_3 = 0 \\
    &\lambda_1(c + n - 100) = 0 \\
    &\lambda_2c = 0 \\
    &\lambda_3n = 0.
  \end{align*}
  We begin by observing that $\lambda_2 = 0$. Similarly, $\lambda_3 = 0$. Hence, $\lambda_1 = \frac{1}{c}$ and $\lambda_1 = \frac{1}{2n} + \frac{1}{2n + 100}$. Observe that $\lambda_1 = 0$ yields no solutions, so suppose $\lambda_1 \neq 0$. Then $c + n = 100$. It follows that
  \begin{align*}
    \frac{1}{c} &= \frac{1}{2n} + \frac{1}{2n + 200} \\
    2n(2n + 200) &= c(2n + 200) + 2nc \\
    4n^2 + 400n &= 4nc + 200c\\
    4n^2 + 400n &= 4n(100 - n) + 200(100 - n)\\
    4n^2 + 400n &= 400n - 4n^2 + 20000 - 200n\\
    8n^2 + 200n - 20000 &= 0\\
    n^2 + 25n - 2500 &= 0
  \end{align*}
  Then $n \approx 39.039$ and $c \approx 60.961$. This yields an approxiamte expected utilty of
  \begin{align*}
    \ln(60.961) + \frac{\ln(39.039)}{2} + \frac{\ln(139.039)}{2} &= \ln(60.961) + \ln(\sqrt(39.039)) + \ln(\sqrt(139.039)) \\
    &= \ln(60.961) + \ln(6.248) + \ln(11.791) \\
    &= \ln(4491).
    &\approx 8.41
  \end{align*}
\end{proof}
\begin{prob}
  Suppose that tomorrow's income is a lottery between $\$0 $, $\$134 $, and $\$100 $ with probabilities $\frac{1}{4}, \frac{1}{2}, \frac{1}{4}$, respectively. How much should the consumer consume today and what is their expected utility?
\end{prob}
\begin{proof}[Solution]
  We will being by solving the following non-linear program:
  \begin{align*}
    \max &\ln(c) + \frac{1}{4}\ln(n) + \frac{1}{2}\ln(n + 34) \frac{1}{4}\ln(n + 100) &\\
    Subject \ to \ &c + n \leq 100 & \\
    & c, n \geq 0. &
  \end{align*}
  Next, we find the Lagrangian:
  $$\ln(c) + \frac{1}{4}\ln(n) + \frac{1}{2}\ln(n + 34) \frac{1}{4}\ln(n + 100) - \lambda_1(c + n - 100) + \lambda_2c + \lambda_3n.$$
  We now have the following constraints:
  \begin{align*}
    &\frac{1}{c} - \lambda_1 + \lambda_2 = 0 \\
    &\frac{1}{4n} + \frac{1}{2n + 68} + \frac{1}{4n + 400} - \lambda_1 + \lambda_3 = 0 \\
    &\lambda_1(c + n - 100) = 0 \\
    &\lambda_2c = 0 \\
    &\lambda_3n = 0.
  \end{align*}
  Observe that $\lambda_2, \lambda_3 = 0$. So $\lambda_1 = \frac{1}{c}$ and $\lambda_1 = \frac{1}{4n} + \frac{1}{2n+ 68} + \frac{1}{4n + 400}$. Notice that $c + n = 100$. It follows that
  \begin{align*}
    \frac{1}{c} &= \frac{1}{4n} + \frac{1}{2n+ 68} + \frac{1}{4n + 400} \\
    4n(4n + 400)(2n + 68) &= c((4n + 400)(2n + 68) + 4n(4n + 400) + 4n(2n + 68)) \\
    4(4n^2 + 400n)(2n + 68) &= c(4(2n^2 + 268n + 6800) + 4n(4n + 400) + 4n(2n + 68)) \\
    8n^3 + 1072n^2 +27200n &= c(2n^2 + 268n + 6800 + 4n^2 + 400n + 2n^2 + 68n) \\
    8n^3 + 1072n^2 +27200n &= (100 - n)(8n^2 + 746n + 6800) \\
    8n^3 + 1072n^2 +27200n &= 54n^2 - 8n^3 + 67800n + 680000  \\
    16n^3 + 1018n^2 - 40600n - 680000 &= 0\\
    8n^3 + 509n^2 - 20300n - 340000 &= 0\\
  \end{align*}
  So $n \approx 36.781$ and $c \approx 63.219$. This yields an approximate expected utility of $8.407$.
\end{proof}
\begin{prob}
  Does the consumer's preferences over lotteries for tomorrow's income satisfy the VNM axioms?
\end{prob}
\begin{proof}[Solution]
  Suppose the consumer satisfies the vNM axioms. Then expected utility represents $\succ$. Let us denote the lotteries over tomorrow's income from above as $l_1 \sim \delta_{\$34}$, $l_2 \sim \frac{1}{2}\delta_{\$0} + \frac{1}{2}\delta_{\$100}$, and $l_3 \sim \frac{1}{4}\delta_{\$0} +
  \frac{1}{2}\delta_{\$34} + \frac{1}{4}\delta_{\$100}$. By the above results, $l_2 \succ l_1 \succ l_3$.
  By Axiom 2, $\frac{1}{2}l_1 + \frac{1}{2}l_2 \succ l_1$. But $\frac{1}{2}l_1 + \frac{1}{2}l_2 \sim l_3$. So $l_3 \succ l_2 \succ l_3$. $(\contra)$.
\end{proof}
%
% Problem 12
%
\section{}
  Consider an agent that is indifferent between full insurance and no insurance with respect to some loss. Let us define probabilistic insurance as follows: an agent pays half of the premium and, if the loss occurs, half of the time, the agent pays the second half and the loss is covered and, the other half, the half premium is returned to the agent. We suppose that this agent is not risk seeking.
\begin{thm}
  If an agent always prefers full insurance/no insurance to probabilistic insurance, then the agent's preferences do not satisfy the vNM axioms.
\end{thm}
\begin{proof}
  Suppose the agent's preferences satisfy the vNM axioms. Let $\pi \in (0, 1)$ be the probability that the loss occurs. Since the agent is indifferent between full insurance and no insurance, $\pi \delta_{Y'} + (1 - \pi)\delta_Y \sim \delta_{Y-\gamma}$, where $Y' = Y - \Delta$, $\Delta$ is the loss amount, and $\gamma \geq 0$ is the premium. Let $u(\cdot)$ be the agent's utility function. Then $\pi u(Y') + (1 - \pi)u(Y) = u(Y - \gamma)$.
  The expected utility of probabilistic insurance is given by $\frac{\pi}{2}u(Y-\gamma) + \frac{\pi}{2}u(Y') + (1 - \pi)u(Y - \frac{\gamma}{2})$.
  Since full insurance is preferred to probabilistic insurance,
  \begin{align*}
    &      & \pi u(Y') + (1 - \pi)u(Y) &> \frac{\pi}{2}u(Y-\gamma) + \frac{\pi}{2}u(Y') + (1 - \pi)u(Y - \frac{\gamma}{2}) \\
    & \iff & \frac{\pi}{2} u(Y') + (1 - \pi)u(Y) &> \frac{\pi}{2}u(Y-\gamma) + (1 - \pi)u(Y - \frac{\gamma}{2}) \\
    & \iff & \frac{1}{2} (u(Y - \gamma) - (1 - \pi)u(Y)) + (1 - \pi)u(Y) &> \frac{\pi}{2}u(Y-\gamma) + (1 - \pi)u(Y - \frac{\gamma}{2}) \\
    & \iff & \frac{1 - \pi}{2} u(Y - \gamma) + \frac{1 - \pi}{2}u(Y) &> (1 - \pi)u(Y - \frac{\gamma}{2}) \\
    & \iff & \frac{1}{2} u(Y - \gamma) + \frac{1}{2}u(Y)) &> u(Y - \frac{\gamma}{2}.
  \end{align*}
  This is never the case since the agent is assumed to not be risk seeking, i.e., $u(\cdot)$ is weakly concave. $(\contra)$.
\end{proof}
\begin{prob}
  Is it possible to satisfy the vNM axioms and not prefer probabilistic insurance?
\end{prob}
\begin{proof}[Solution]
  By the results above, being risk averse, i.e., having a strictly concave utility function, will ensure that the agent does not prefer probabilistic insurance to full insurance/no insurance.
\end{proof}
%
% Problem 13
%
\section{}
\begin{thm}
  The Ellsberg Paradox is inconsistent with the vNM Axioms. Moreover, the Ellsberg paradox is inconsistent with the Substitution Axiom.
\end{thm}
\begin{proof}
  We may formalize the Ellsberg paradox as follows:
  $$\frac{1}{3}\delta_{\$1000} + \frac{2}{3}\delta_{\$0} \succ \alpha \delta_{\$1000} + (1 - \alpha)\delta_{\$0}$$
  $$\frac{2}{3}\delta_{\$1000} + \frac{1}{3}\delta_{\$0} \succ (1 - \alpha) \delta_{\$1000} + \alpha\delta_{\$0}$$
  where $\alpha \in [0, \frac{2}{3}]$.
  By result (\ref{lem1c.2}), we have that
  \begin{align*}
  &&  \frac{1}{2}(\frac{1}{3}\delta_{\$1000} + \frac{2}{3}\delta_{\$0}) + \frac{1}{2}(\frac{2}{3}\delta_{\$1000} + \frac{1}{3}\delta_{\$0}) &\succ \frac{1}{2}(\delta_{\$1000} + (1 - \alpha)\delta_{\$0}) + \frac{1}{2}((1 - \alpha) \delta_{\$1000} + \alpha\delta_{\$0}) \\
  & \iff & \frac{1}{2}\delta_{\$1000} + \frac{1}{2}\delta_{\$0} \succ \frac{1}{2} \delta_{\$1000} + \frac{1}{2}\delta_{\$0}.
  \end{align*}
  $(\contra)$, since $\succ$ is asymmetric. Note that lemma (\ref{lem1c.2}) is implied by the Substitution Axiom.
\end{proof}
%
% Problem 14
%
\section{}
\begin{prob}
  Suppose one is offered a gamble with a positive expected value that can be repeated many times. Would a rational consumer turn down this gamble?
\end{prob}
\begin{proof}[Solution]
  If the number of gambles is known in advance, you can construct a utility function that heavily weights losses. The key is to not much value gains and heavily value losses. (Note: I will return to a more formal treatment of this problem in the future.)
\end{proof}
\end{document}
